<!-- templates/fragments/fragment-entete.html -->
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<header th:fragment="entete">
	<div class="entete-container">
		<h1><a th:href="@{/accueil}" class="logo">ENI-Enchères</a></h1>

		<nav class="entete-nav">
			
			<!-- ✅ Si connecté -->
			<span sec:authorize="isAuthenticated()">
				Bonjour <strong th:text="${utilisateur.pseudo}">Utilisateur</strong>
				<a th:href="@{/profil}" class="bouton-nav">Profil</a>
				<form th:action="@{/deconnexion}" method="post" style="display:inline;">
					<button type="submit" class="bouton-nav">Déconnexion</button>
				</form>
			</span>

			<!-- ❌ Si NON connecté -->
			<span sec:authorize="isAnonymous()">
				<form th:action="@{/connexion}" method="get" style="display:inline;">
					<button type="submit" class="bouton-nav">Se connecter</button>
				</form>
				<form th:action="@{/creer-compte}" method="get" style="display:inline;">
					<button type="submit" class="bouton-nav">S'inscrire</button>
				</form>
			</span>

		</nav>
	</div>
</header>
